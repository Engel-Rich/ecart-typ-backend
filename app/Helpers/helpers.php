<?php

use Illuminate\Support\Facades\Storage;

if (!function_exists('displayImage')) {
    function displayImage($image, $isAvatar = false)
    {
        if (file_exists($image) && is_file($image)) {
            return asset($image);
        } elseif ($isAvatar) {
            return asset('assets/admin/img/160x160/img1.jpg');
        } else {
            return asset('assets/admin/img/160x160/img1.jpg');
        }
    }
}

if (!function_exists('onErrorImage')) {
    function onErrorImage($data, $src, $error_src ,$path)
    {
        if(isset($data) && strlen($data) >1 && Storage::disk('public')->exists($path.$data)){
            return $src;
        }
        return $error_src;
    }
}

if (!function_exists('getFlag')) {
    function getFlag($countryCode)
    {
        $baseUrl = env('APP_URL').'/assets/admin/img';
        return match ($countryCode) {
            'en' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 48 48"><path fill="#ECEFF1" d="M1.998 10H45.998V37H1.998z"/><path fill="#F44336" d="M2 10H46V13H2zM2 16H46V19H2zM2 22H46V25H2zM2 28H46V31H2zM2 34H46V37H2z"/><path fill="#3F51B5" d="M2 10H23V25H2z"/><g><path fill="#FFF" d="M4.25 12L4.713 12.988 5.75 13.146 5 13.916 5.178 15 4.25 14.488 3.322 15 3.5 13.916 2.75 13.146 3.787 12.988zM8.25 12L8.713 12.988 9.75 13.146 9 13.916 9.178 15 8.25 14.488 7.322 15 7.5 13.916 6.75 13.146 7.787 12.988zM12.25 12L12.713 12.988 13.75 13.146 13 13.916 13.178 15 12.25 14.488 11.322 15 11.5 13.916 10.75 13.146 11.787 12.988zM16.25 12L16.713 12.988 17.75 13.146 17 13.916 17.178 15 16.25 14.488 15.322 15 15.5 13.916 14.75 13.146 15.787 12.988zM20 12L20.463 12.988 21.5 13.146 20.75 13.916 20.928 15 20 14.488 19.072 15 19.25 13.916 18.5 13.146 19.537 12.988zM4.25 20L4.713 20.988 5.75 21.146 5 21.916 5.178 23 4.25 22.488 3.322 23 3.5 21.916 2.75 21.146 3.787 20.988zM8.25 20L8.713 20.988 9.75 21.146 9 21.916 9.178 23 8.25 22.488 7.322 23 7.5 21.916 6.75 21.146 7.787 20.988zM12.25 20L12.713 20.988 13.75 21.146 13 21.916 13.178 23 12.25 22.488 11.322 23 11.5 21.916 10.75 21.146 11.787 20.988zM16.25 20L16.713 20.988 17.75 21.146 17 21.916 17.178 23 16.25 22.488 15.322 23 15.5 21.916 14.75 21.146 15.787 20.988zM20 20L20.463 20.988 21.5 21.146 20.75 21.916 20.928 23 20 22.488 19.072 23 19.25 21.916 18.5 21.146 19.537 20.988zM5.25 16L5.713 16.988 6.75 17.146 6 17.916 6.178 19 5.25 18.488 4.322 19 4.5 17.916 3.75 17.146 4.787 16.988zM9.25 16L9.713 16.988 10.75 17.146 10 17.916 10.178 19 9.25 18.488 8.322 19 8.5 17.916 7.75 17.146 8.787 16.988zM13.25 16L13.713 16.988 14.75 17.146 14 17.916 14.178 19 13.25 18.488 12.322 19 12.5 17.916 11.75 17.146 12.787 16.988zM17.25 16L17.713 16.988 18.75 17.146 18 17.916 18.178 19 17.25 18.488 16.322 19 16.5 17.916 15.75 17.146 16.787 16.988zM21 16L21.463 16.988 22.5 17.146 21.75 17.916 21.928 19 21 18.488 20.072 19 20.25 17.916 19.5 17.146 20.537 16.988z"/></g></svg>',
            'fr' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 48 48"><path fill="#ECEFF1" d="M16 9H32V39H16z"/><path fill="#FF3D00" d="M32 9H46V39H32z"/><path fill="#3F51B5" d="M2 9H16V39H2z"/></svg>',
            'ar' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"width="22" height="22" viewBox="0 0 48 48"><path fill="#424242" d="M2 29H46V39H2z"/><path fill="#eceff1" d="M2 19H46V29H2z"/><path fill="#388e3c" d="M2 9H46V19H2z"/><path fill="#ff3d00" d="M2 9H12V39H2z"/><path fill="#f44336" d="M2 9H12V39H2z"/></svg>',
            'de' => '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22" viewBox="0 0 48 48"><path fill="#FFC107" d="M2 29H46V39H2z"/><path fill="#FF3D00" d="M2 19H46V29H2z"/><path fill="#455A64" d="M2 9H46V19H2z"/></svg>',
            'es' => "<img src='$baseUrl/spain.png' alt='spain' width='22'>",
            'it' => "<img src='$baseUrl/italy.png' alt='italy' width='22'>",
            default => '<svg xmlns="http://www.w3.org/2000/svg" width="25px" height="25px" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" fill="#FFFFFF"><path d="M24 2.1035156C20.731 2.7535156 17.824047 6.5455156 15.998047 11.978516L24 11.978516L24 2.1035156 z M 26 2.1035156L26 11.978516L34.001953 11.978516C32.175953 6.5455156 29.269 2.7535156 26 2.1035156 z M 18.908203 2.8242188C13.621203 4.2782187 9.0916875 7.5735156 6.0546875 11.978516L13.845703 11.978516C15.057703 8.0895156 16.806203 4.9242187 18.908203 2.8242188 z M 31.091797 2.8242188C33.193797 4.9232188 34.942297 8.0895156 36.154297 11.978516L43.945312 11.978516C40.908313 7.5745156 36.378797 4.2782187 31.091797 2.8242188 z M 4.7949219 14.021484C3.1649219 17.010484 2.1803906 20.4 2.0253906 24L12.011719 24C12.082719 20.412 12.525391 17.040484 13.275391 14.021484L4.7949219 14.021484 z M 15.384766 14.021484C14.580766 17.027484 14.090672 20.423 14.013672 24L24 24L24 14.021484L15.384766 14.021484 z M 26 14.021484L26 24L35.986328 24C35.908328 20.423 35.419234 17.027484 34.615234 14.021484L26 14.021484 z M 36.724609 14.021484C37.474609 17.039484 37.916328 20.412 37.986328 24L47.974609 24C47.819609 20.4 46.836078 17.010484 45.205078 14.021484L36.724609 14.021484 z M 2.0253906 26C2.1803906 29.6 3.1639219 32.989516 4.7949219 35.978516L13.275391 35.978516C12.525391 32.959516 12.083672 29.588 12.013672 26L2.0253906 26 z M 14.013672 26C14.091672 29.577 14.580766 32.972516 15.384766 35.978516L24 35.978516L24 26L14.013672 26 z M 26 26L26 35.978516L34.615234 35.978516C35.419234 32.972516 35.909328 29.578 35.986328 26L26 26 z M 37.988281 26C37.917281 29.588 37.474609 32.959516 36.724609 35.978516L45.205078 35.978516C46.835078 32.989516 47.819609 29.6 47.974609 26L37.988281 26 z M 6.0546875 38.021484C9.0916875 42.425484 13.621203 45.721781 18.908203 47.175781C16.806203 45.076781 15.057703 41.910484 13.845703 38.021484L6.0546875 38.021484 z M 15.998047 38.021484C17.824047 43.454484 20.731 47.246484 24 47.896484L24 38.021484L15.998047 38.021484 z M 26 38.021484L26 47.896484C29.269 47.246484 32.175953 43.454484 34.001953 38.021484L26 38.021484 z M 36.154297 38.021484C34.942297 41.910484 33.193797 45.075781 31.091797 47.175781C36.378797 45.721781 40.908312 42.426484 43.945312 38.021484L36.154297 38.021484 z" fill="#FFFFFF" /></svg>'
        };
    }
}

if(!function_exists('priceCurrencyFormatPlacing')){
    function priceCurrencyFormatPlacing($price, $currency, $currencyPosition){
        if($currencyPosition == 'left'){
            return $currency.' '.$price;
        }else{
            return $price.' '.$currency;
        }
    }
}
